(function(){"use strict";function e(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=e.responseText.trim();document.getElementById("esp-id").innerHTML=t,document.getElementById("esp-id-input").value=t,document.title=t+" (ESP8266)"}},e.open("GET","id.json",!0),e.send()}function t(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var t=parseInt(e.responseText.trim());1===t?(document.getElementById("set-switch-high-on").style.display="inline-block",document.getElementById("set-switch-high-off").style.display="none",document.getElementById("set-switch-low-on").style.display="none",document.getElementById("set-switch-low-off").style.display="inline-block"):(document.getElementById("set-switch-high-on").style.display="none",document.getElementById("set-switch-high-off").style.display="inline-block",document.getElementById("set-switch-low-on").style.display="inline-block",document.getElementById("set-switch-low-off").style.display="none")}},e.open("GET","getSwitch",!0),e.send()}function n(e,n){var i=new XMLHttpRequest;void 0!==n&&(i.onreadystatechange=n(i)),i.open("GET",e,!0),i.send(),t()}e(),document.getElementById("esp-id").onclick=function(){document.getElementById("esp-id").style.display="none",document.getElementById("esp-id-input").style.display="block"},document.getElementById("esp-id-input").onkeypress=function(e){if(13==e.keyCode){var t=document.getElementById("esp-id-input").value.trim().replace(/[^0-9a-z]/gi,"");return n("/setId?id="+t),document.getElementById("esp-id").innerHTML=t,document.title=t+" (ESP8266)",document.getElementById("esp-id").style.display="block",document.getElementById("esp-id-input").style.display="none",!1}},t(),setInterval(t,1e3),document.getElementById("set-switch-high-on").onclick=function(){n("setSwitchHigh")},document.getElementById("set-switch-high-off").onclick=function(){n("setSwitchHigh")},document.getElementById("set-switch-low-on").onclick=function(){n("setSwitchLow")},document.getElementById("set-switch-low-off").onclick=function(){n("setSwitchLow")}})();